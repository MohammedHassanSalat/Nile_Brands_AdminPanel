<div class="flex flex-col gap-4">
  <div>
    <h2 class="text-[25px] sm:text-[30px] font-[700] text-fontColor">Create system user</h2>
  </div>

  <div class="p-6 bg-white shadow-md border rounded-lg border-fontColor">
    <form class="mt-6" [formGroup]="createUserForm" (ngSubmit)="createUser(createUserForm)">
      <div class="relative">
        <label for="name"
          class="absolute left-4 top-[-15px] text-[16px] md:text-[20px] text-fontColor bg-white px-1">Name</label>
        <input type="text" id="name" formControlName="name"
          class="block max-sm:w-full sm:w-[70%] px-4 pt-2 pb-2 mt-2 bg-white rounded-lg border border-fontColor" />
        @if (createUserForm.get('name')?.errors !== null && createUserForm.get('name')?.touched) {
        <div class="text-red-500 text-sm mt-1">
          @if(createUserForm.get('name')?.errors?.['required']){<p>Name Required</p>}
        </div>
        }
      </div>

      <div class="relative mt-4">
        <label for="email"
          class="absolute left-4 top-[-15px] text-[16px] md:text-[20px] text-fontColor bg-white px-1">E-mail</label>
        <input type="email" id="email" formControlName="email"
          class="block max-sm:w-full sm:w-[70%] px-4 pt-2 pb-2 mt-2 bg-white rounded-lg border border-fontColor" />
        @if (createUserForm.get('email')?.errors !== null && createUserForm.get('email')?.touched) {
        <div class="text-red-500 text-sm mt-1">
          @if(createUserForm.get('email')?.errors?.['required']){<p>Email Required</p>}
          @if(createUserForm.get('email')?.errors?.['email']) {<p>invalid email</p>}
        </div>
        }
      </div>

      <div class="relative mt-4">
        <label for="password"
          class="absolute left-4 top-[-15px] text-[16px] md:text-[20px] text-fontColor bg-white px-1">Password</label>
        <input type="password" id="password" formControlName="password"
          class="block max-sm:w-full sm:w-[70%] px-4 pt-2 pb-2 mt-2 bg-white rounded-lg border border-fontColor" />
        @if (createUserForm.get('password')?.errors !== null && createUserForm.get('password')?.touched) {
        <div class="text-red-500 text-sm mt-1">
          @if(createUserForm.get('password')?.errors?.['required']){<p>Password Required</p>}
        </div>
        }
      </div>

      <div class="relative mt-4">
        <label for="repassword"
          class="absolute left-4 top-[-15px] text-[16px] md:text-[20px] text-fontColor bg-white px-1">Confirm
          Password</label>
        <input type="password" id="repassword" formControlName="confirmPassword"
          class="block max-sm:w-full sm:w-[70%] px-4 pt-2 pb-2 mt-2 bg-white rounded-lg border border-fontColor" />
          @if (createUserForm.get('confirmPassword')?.errors !== null && createUserForm.get('confirmPassword')?.touched) {
          <div class="text-red-500 text-sm mt-1">
            @if(createUserForm.get('confirmPassword')?.errors?.['required']){<p>Confirm Password Required</p>}
          </div>
          }
      </div>


      <div class="mt-4">
        <label for="role" class="block mb-2 text-[16px] md:text-[20px] text-fontColor">Role</label>
        <select id="role" formControlName="role"
          class="w-[70%] text-fontColor text-[16px] md:text-[20px] rounded-lg block p-2.5 border border-gray-300">
          <option selected value="user">User</option>
          <option value="owner">Owner</option>
        </select>
      </div>
      <div *ngIf="successMsg" class="text-green-500 text-sm mt-1">{{ successMsg }}</div>
      <div *ngIf="failMsg" class="text-red-500 text-sm mt-1">{{ failMsg }}</div>


      <div class="mt-6 sm:text-right">
        <button class="px-12 py-2 text-[16px] text-white bg-primary rounded-[16px]" [disabled]="createUserForm.invalid">
          Save Changes
        </button>
      </div>
    </form>
  </div>
</div>
